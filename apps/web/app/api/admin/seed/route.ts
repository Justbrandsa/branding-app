import { NextResponse } from "next/server"; import { prisma } from "@/lib/db"; export async function POST(){ await prisma.policy.upsert({ where:{id:1}, update:{}, create:{ id:1, minOrderZar:500 }}); const m=await prisma.brandingMethod.upsert({ where:{ key:"embroidery" }, update:{}, create:{ key:"embroidery", title:"Embroidery" }}); await prisma.priceRule.create({ data:{ methodId:m.id, perUnitAmount:12.0, currency:"ZAR" }}); await prisma.setupFee.create({ data:{ methodId:m.id, amount:350.0, currency:"ZAR" }}); await prisma.feeSkuMap.create({ data:{ methodId:m.id, type:"setup", variantGid:"gid://shopify/ProductVariant/9992" }}); await prisma.feeSkuMap.create({ data:{ methodId:m.id, type:"per_unit", variantGid:"gid://shopify/ProductVariant/9991" }}); return NextResponse.json({ ok:true }); }